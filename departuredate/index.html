<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>OUI</title>


	<link rel="stylesheet" href="../kendoui/styles/kendo.common-bootstrap.min.css">
	<link rel="stylesheet" href="../kendoui/styles/kendo.bootstrap.min.css">

		
	<script src="../js/jquery.min.js"></script> 
	<script src="../js/bootstrap.min.js"></script> 
	<script src="../js/bootstrap-toggle.min.js"></script> 
    <script src="../kendoui/js/kendo.all.min.js"></script>
   
	<script src="../js/moment.js"></script> 
	
	<link href="../css/bootstrap.css" rel="stylesheet">
	<link href="../css/toggle-me-softly.css" rel="stylesheet">
	<link href="../css/style.css" rel="stylesheet">
	
	<!-- <link href="../css/font-awesome.css" rel="stylesheet"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

	
	<style>
		.container{width: 96% !important;}
		table, th, td{color: #54698d; }
		table{width: 100%; text-align: center;}
		
		td{padding: 4px !important; vertical-align: top; border: 1px solid #efefef;}
			td.pad0{padding: 0 !important;}
		th{padding: 8px !important; vertical-align: top; border: 1px solid #efefef;}
		
		tr{border-bottom: 1px solid #efefef;}
			.inner-table tr, th tr{border: none;}
		
		#departTable tr:hover, #departTable tr:hover tr{background: #eef9ff !important;}
		#departTable th table{margin-top: 15px;}
		#departTable th table td{font-weight: normal; padding-bottom: 0;}
		
		
		.inner-table td{border-right: 1px solid #efefef !important; height: 52px; vertical-align: middle !important;}
		.inner-table td:last-child{border-right: none !important;}
		
		
		.pretour, .basetour, .arrivetour, .pretour-collapsed{border-right: 3px solid #eef0f1 !important;}
		.departCol{background: #2c3e50; color: #fff; border-right: 3px solid #999 !important;}
		
		.highlight{background: #d1e9f6;}
		
		.single{}
		.double{}
		
		
		.collapsed{max-width: 30px; white-space: nowrap; overflow: hidden; }
			.collapsed td{white-space: nowrap;opacity: 0; border: none !important;}
			.collapsed span{display: none;}
			
			
		th .fa{font-size: 16px;}
		
		.pretour-collapsed{max-width: 80px; white-space: nowrap;}
			.pretour-collapsed h3{position: absolute; font-size: 24px; top: 80px;-webkit-transform: rotate(-90deg);
			-moz-transform: rotate(-90deg);
			-ms-transform: rotate(-90deg); 
			-o-transform: rotate(-90deg);}
			
			.pretour-collapsed a{position: absolute; right: -225px;top:135px;}		
					
	</style>
	
</head>
<body>


<!-- Navbar -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span> </button>
		<a class="navbar-brand" href="#" style="padding: 0 15px;"><img src="../images/logo.png" style="max-height: 60px;"/></a>
	</div>
	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <div class="navbar-center">
                <h4 class="headerTextLeft" id="tourCodeHeader">Departure Dates | Enchanting Ireland</h4>
        </div>
		<ul class="nav navbar-nav navbar-right">
			<li> <img src="http://lorempixel.com/output/people-q-c-100-100-9.jpg" class="navimg"> </li>
            <li class="nav  navbar-toggle navbar-link">Danielle O'Sullivan</li>
			<li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-cog"></i><b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li> <a href="#">Action</a> </li>
					<li> <a href="#">Another action</a> </li>
					<li> <a href="#">Something else here</a> </li>
					<li class="divider"> </li>
					<li> <a href="#">Separated link</a> </li>
				</ul>
			</li>
		</ul>
	</div>
</nav>
    

<form role="form">


<div class="clear bottom30"></div>
<div class="clear bottom30"></div>

<div class="container container-border">
<div class="row">


	<div class="col-md-12 bottom30" >
				<table class=" table-hover" id="departTable">
						<tr>
							<th ></th>
							<th class="departCol">Depart USA</th>
							<!--
							<th width="80" class="pretour-collapsed displayNone" rowspan="1">
								<div style="width: 100%; height: 100%; top: 160px; position: absolute;">
									<h3>Pre-Tour Option</h3>
									<a class="expandPretour"><i class="fa fa-expand"></i></a>
								</div>
							</th>-->
							<th class="pretour">
								<a class="alignRight shrinkPretour"><i class="fa fa-compress"></i></a>
								<span>Pre-Tour Option</span>
								<div class="clear"></div>
								<table class="table center">
									<tr>
										<td width="80">Depart</td>
										<td width="105">Moher (3)</td>
										<td width="80">Join Tour</td>
									</tr>
								</table>
							</th>
							<th class="basetour">
								<a class="alignRight shrinkBasetour"><i class="fa fa-compress"></i></a>
								<span>Tour Legs (Nights)</span>
								<div class="clear"></div>
								<table class="table center">
									<tr>
										<td width="80">Depart</td>
										<td width="105">Dublin (3)</td>
										<td width="105" >Galway (3)</td>
										<td width="105" >Killarney (2)</td>
										<td width="105" >Kilkenny (3)</td>
									</tr>
								</table>
							</th>
							<th style="">Return to USA</th>
							<th class="arrivetour highlight">Arrive in USA</th>
							<th class="posttour">
								<a class="alignRight shrinkPosttour"><i class="fa fa-compress"></i></a>
								<span>Post-Tour Extension</span>
								<div class="clear"></div>
								<table class="table center">
									<tr>
										<td width="105">Northern Ireland (3)</td>
										<td width="80">Return</td>
										<td width="105">Arrive in USA</td>
									</tr>
								</table>
							</th>
						</tr>
						<!-- tour row -->
						<tr class="tourRow displayNone copyMe">
							<td class="" style="border-right: none !important;" >
								<a class="removeRow" id="" style="position: relative; top: 13px;"><i class="fa fa-times-circle"></i></a>&nbsp;&nbsp;
								<!-- <input type="checkbox" id="editDepartDate" style="position: relative; top: 1px;"> -->
							</td>
							<td style="border-left: none;" id="sortCell" class="departCol">
								<span class="departDate" style="position: relative; top: 13px;"></span>
							</td>
							<td class="pretour pad0">
								<table class="table center inner-table">
									<tr>
										<td width="80" class="highlight"><span class="pretourdepartusa"></span></td>
										<td width="105"><span class="pretourleg1"></span></td>
										<td width="80" class="highlight"><span class="jointour"></span></td>
									</tr>
								</table>
							</td>
							<td class="basetour pad0">
								<table class="table center inner-table">
									<tr>
										<td width="80"><span class="departDate"></span></td>
										<td width="105"><span class="tourleg1"></span></td>
										<td width="105"><span class="tourleg2"></span></td>
										<td width="105"><span class="tourleg3"></span></td>
										<td width="105"><span class="tourleg4"></span></td>
									</tr>
								</table>
							</td>
							<td class="pad0">
								<table class="table center inner-table">
									<tr>
										<td width="80" >
											<span class="returnusa"></span>
										</td>
									</tr>
								</table>
							</td>
							<td class="arrivetour pad0 highlight">
								<table class="table center inner-table">
									<tr>
										<td width="100"  class="highlight" >
											<span class="arriveusa"></span>
										</td>
									</tr>
								</table>
							</td>
							<td class="posttour pad0">
								<table class="table center inner-table">
									<tr>
										<td width="105"><span class="posttourleg1"></span></td>
										<td width="80" ><span class="posttourreturnusa"></span></td>
										<td width="105" class="highlight"><span class="posttourarriveusa"></span></td>
									</tr>
								</table>
							</td>
						</tr>
						<!-- tour row -->
					</table>
	</div>
	
	<div class="col-md-4"> 
		<div class="container-fluid pad0">
			<div class="row">
			
				<div class="clear bottom30"></div>
				<div class="form-group col-md-12">
					<h4><label>Use the Calendar Below to Add Departure Dates</label></h4>
					<div class="clear"></div>
					<input class="datepicker" value="" style="border: 1px solid #ccc;" />
				</div>
			</div>
		</div>
		
		<div class="clear bottom30"></div>
				
	
	</div>
	<!--
	<div class="col-md-4">
		<div class="clear bottom25"></div>
		<a id="editRows" class="btn btn-sm btn-info displayNone"><i class="fa fa-edit"></i> Edit Selected Departure Dates</a>
	</div>
	-->
</div>
</div>



<div class="clear" style="margin-bottom: 105px;"></div>
       
<!-- footer -->
<div id="illusion">
    <div id="footer">
	   <div class="container">
           <div class="row">
               <div class="col-md-2" >
                   <button type="submit" class="btn btn-default btn-sm"> Cancel </button>
               </div>
               <div class="col-md-8">
					<!-- Middle Links
                   <p><a href="#location">Summary</a></p>
					-->
               </div>
               <div class="col-md-2" >
                   <button type="submit" class="btn btn-info btn-sm alignRight bottom0"><i class="fa fa-check-circle-o"></i> Submit </button>
               </div>
           </div>
        </div>
    </div>
</div>

</form>


<script>
$(document).ready(function() {
	
	// create DatePicker from input HTML element
	
	
	function onChange() {
		//console.log("Change :: " + kendo.toString(this.value(), 'd'));
		//console.log(kendo.toString(this.value()));
		//console.log(moment(startDate).subtract(3, 'days'));
		
		
		var startDate = moment(kendo.toString(this.value()));
		$('#departTable tr.tourRow.copyMe').clone().appendTo('#departTable').removeClass('displayNone').removeClass('copyMe');
		
		$('#departTable tr.tourRow:last-child .departDate').html(moment(startDate).format('DD-MMM ddd'));
		
		$('#departTable tr.tourRow:last-child .pretourdepartusa').html(moment(startDate).subtract(4, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .pretourleg1').html(moment(startDate).subtract(3, 'days').format('DD-MMM') + ' - ' + moment(startDate).subtract(1, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .jointour').html(moment(startDate).add(1, 'days').format('DD-MMM'));
		
		$('#departTable tr.tourRow:last-child .tourleg1').html(moment(startDate).add(1, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(3, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .tourleg2').html(moment(startDate).add(4, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(6, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .tourleg3').html(moment(startDate).add(7, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(8, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .tourleg4').html(moment(startDate).add(9, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(11, 'days').format('DD-MMM'));
		
		$('#departTable tr.tourRow:last-child .returnusa').html(moment(startDate).add(12, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .arriveusa').html(moment(startDate).add(12, 'days').format('DD-MMM ddd'));
		
		$('#departTable tr.tourRow:last-child .posttourleg1').html(moment(startDate).add(12, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(14, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .posttourreturnusa').html(moment(startDate).add(15, 'days').format('DD-MMM'));
		$('#departTable tr.tourRow:last-child .posttourarriveusa').html(moment(startDate).add(15, 'days').format('DD-MMM ddd'));
		
		$('html,body').animate({
		  scrollTop: $('.datepicker').offset().top + (-400)
		}, 1000);
		
        //$('#editRows').removeClass('displayNone');
	
		return false();
	}
	
	function onClose() {
		// sort table by depart dates	
	
		
	}
		
    $('.datepicker').kendoDatePicker({
	 format: "dd-MMM-yy ",
	 change: onChange, 
	 close: onClose
	 
	});
	
    $("#departTable").on('click', '.removeRow', function(){
        $(this).parent().parent().remove();
    });
	
	$('.shrinkPretour').click(function() {
    	//var rowCount = 0;
	    //var rowCount = $('#departTable tr.tourRow').length;
	    //$('.pretour-collapsed').attr('rowspan', rowCount);
		//$('.pretour-collapsed').toggleClass('displayNone');
		$('.pretour').toggleClass('collapsed');
		
		if ($('.shrinkPretour i').hasClass('fa-compress')){
			$('.shrinkPretour i').removeClass('fa-compress').addClass('fa-expand');
				
		} else {
			$('.shrinkPretour i').removeClass('fa-expand').addClass('fa-compress');
			
		}
		return false();
		
		
		
    });
	
	
	$('.shrinkBasetour').click(function() {
        $('.basetour').toggleClass('collapsed');
		
		if ($('.shrinkBasetour i').hasClass('fa-compress')){
			$('.shrinkBasetour i').removeClass('fa-compress').addClass('fa-expand');
				
		} else {
			$('.shrinkBasetour i').removeClass('fa-expand').addClass('fa-compress');
				
		}
		
		return false();
    });
	$('.shrinkPosttour').click(function() {
		if ($('.shrinkPosttour i').hasClass('fa-compress')){
			$('.shrinkPosttour i').removeClass('fa-compress').addClass('fa-expand');
				
		} else {
			$('.shrinkPosttour i').removeClass('fa-expand').addClass('fa-compress');
				
		}
		return false();
    });

	
});


</script>

</body>
</html>