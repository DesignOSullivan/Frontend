<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>OUI</title>


	<link rel="stylesheet" href="../kendoui/styles/kendo.common-bootstrap.min.css">
	<link rel="stylesheet" href="../kendoui/styles/kendo.bootstrap.min.css">

		
	<script src="../js/jquery.min.js"></script> 
	<script src="../js/bootstrap.min.js"></script> 
	<script src="../js/bootstrap-toggle.min.js"></script> 
    <script src="../kendoui/js/kendo.all.min.js"></script>
   
	<script src="../js/moment.js"></script> 
	
	<link href="../css/bootstrap.css" rel="stylesheet">
	<link href="../css/toggle-me-softly.css" rel="stylesheet">
	<link href="../css/style.css" rel="stylesheet">
	
	<!-- <link href="../css/font-awesome.css" rel="stylesheet"> -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

	
	<style>
		table, th, td{color: #54698d; white-space: nowrap;}
		
		#departTable tr:hover{background: #ffffee !important;}
		#departTable th table{margin-top: 15px;}
		#departTable th table td{font-weight: normal; padding-bottom: 0;}
		
		td.pad0{padding: 0 !important;}
		
		.inner-table td{border-right: 1px solid #efefef !important; height: 52px; vertical-align: middle !important;}
		.inner-table td:last-child{border-right: none !important;}
	</style>
	
</head>
<body>


<!-- Navbar -->
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="navbar-header">
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span> </button>
		<a class="navbar-brand" href="#" style="padding: 0 15px;"><img src="../images/logo.png" style="max-height: 60px;"/></a>
	</div>
	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <div class="navbar-center">
                <h4 class="headerTextLeft" id="tourCodeHeader">Departure Dates | Enchanting Ireland</h4>
        </div>
		<ul class="nav navbar-nav navbar-right">
			<li> <img src="http://lorempixel.com/output/people-q-c-100-100-9.jpg" class="navimg"> </li>
            <li class="nav  navbar-toggle navbar-link">Danielle O'Sullivan</li>
			<li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-cog"></i><b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li> <a href="#">Action</a> </li>
					<li> <a href="#">Another action</a> </li>
					<li> <a href="#">Something else here</a> </li>
					<li class="divider"> </li>
					<li> <a href="#">Separated link</a> </li>
				</ul>
			</li>
		</ul>
	</div>
</nav>
    

<form role="form">


		<div class="clear bottom30"></div>
		<div class="clear bottom30"></div>
		
<div class="container container-border">
<div class="row">
<div class="col-md-12">
	<div class="table-responsive">
			<table class="table table-bordered table-hover" id="departTable">
					<tr>
						<th>Depart USA</th>
						<th class="pretour">Pre-Tour Option
							<table class="table center">
								<tr>
									<td>Depart USA</td>
									<td>Moher (3)</td>
									<td>Join Tour</td>
								</tr>
							</table>
						</th>
						<th class="basetour">Tour Legs (Nights)
							<br />
							<table class="table center">
								<tr>
									<td>Dublin (3)</td>
									<td>Galway (3)</td>
									<td>Killarney (2)</td>
									<td>Kilkenny (3)</td>
								</tr>
							</table>
						</th>
						<th class="" style="">Return for USA</th>
						<th class="" style="background: #ffffee;">Arrive in USA</th>
						<th class="posttour">Post-Tour Extension
							<table class="table center">
								<tr>
									<td>Northern Ireland (3)</td>
									<td>Return to USA</td>
									<td>Arrive in USA</td>
								</tr>
							</table>
						</th>
					</tr>
					
					<!-- tour row -->
					<tr class="tourRow">
						<td>
							<input class="datepicker" value="" style="width: 105px; border: 1px solid #ccc;" />
						</td>
						<td class="pretour pad0">
							<table class="table center inner-table">
								<tr>
									<td><span class="pretourdepartusa"></span></td>
									<td><span class="pretourleg1"></span></td>
									<td><span class="jointour"></span></td>
								</tr>
							</table>
						</td>
						<td class="basetour pad0">
							<table class="table center inner-table">
								<tr>
									<td><span class="tourleg1"></span></td>
									<td><span class="tourleg2"></span></td>
									<td><span class="tourleg3"></span></td>
									<td><span class="tourleg4"></span></td>
								</tr>
							</table>
						</td>
						<td class="pad0">
							<table class="table center inner-table">
								<tr>
									<td>
										<span class="returnusa"></span>
									</td>
								</tr>
							</table>
						</td>
						<td style="background: #ffffee;" class="pad0">
							<table class="table center inner-table">
								<tr>
									<td>
										<span class="arriveusa"></span>
									</td>
								</tr>
							</table>
						</td>
						<td class="post-tour pad0">
							<table class="table center inner-table">
								<tr>
									<td><span class="posttourleg1"></span></td>
									<td><span class="posttourreturnusa"></span></td>
									<td><span class="posttourarriveusa"></span></td>
								</tr>
							</table>
						</td>
					</tr>
					<!-- tour row -->
					
				</table>


				<div class="clear bottom30"></div>
				<a id="addDepartRow" class="green"><i class="fa fa-plus-circle"></i> <em>Add a New Departure Date</em></a>
				
				
				<div class="clear bottom30"></div>
				
				<script>
				/*
				$(document).ready(function() {
					var max_fields      = 10; //maximum input boxes allowed
					var wrapper         = $(".input_fields_wrap"); //Fields wrapper
					var add_button      = $(".add_field_button"); //Add button ID
				   
					var x = 1; //initlal text box count
					$(add_button).click(function(e){ //on add input button click
						e.preventDefault();
						if(x < max_fields){ //max input box allowed
							x++; //text box increment
							$(wrapper).append('<div><input type="text" name="mytext[' + x + ']"/><a href="#" class="remove_field">Remove</a></div>'); //add input box
						}
					});
				   
					$(wrapper).on("click",".remove_field", function(e){ //user click on remove text
						e.preventDefault(); $(this).parent('div').remove(); x--;
					})
				});
				*/
				</script>
				<!--
				<div class="input_fields_wrap">
					<button class="add_field_button">Add More Fields</button>
					<div><input type="text" name="mytext[1]"></div>
				</div>
				-->
								
	</div>
</div>
</div>
</div>



<div class="clear" style="margin-bottom: 120px;"></div>
       
<!-- footer -->
<div id="illusion">
    <div id="footer">
	   <div class="container">
           <div class="row">
               <div class="col-md-2" >
                   <button type="submit" class="btn btn-default btn-sm"> Cancel </button>
               </div>
               <div class="col-md-8">
					<!-- Middle Links
                   <p><a href="#location">Summary</a></p>
					-->
               </div>
               <div class="col-md-2" >
                   <button type="submit" class="btn btn-info btn-sm alignRight bottom0"><i class="fa fa-check-circle-o"></i> Submit </button>
               </div>
           </div>
        </div>
    </div>
</div>

</form>


<script>
$(document).ready(function() {
	
	// create DatePicker from input HTML element
	
	
	
	function onChange() {
		//console.log("Change :: " + kendo.toString(this.value(), 'd'));
		//console.log(kendo.toString(this.value()));
		//console.log(moment(startDate).subtract(3, 'days'));
		
		
		var startDate = moment(kendo.toString(this.value()));
		
					
		
		$('.pretourdepartusa').html(moment(startDate).subtract(4, 'days').format('DD-MMM'));
		$('.pretourleg1').html(moment(startDate).subtract(3, 'days').format('DD-MMM') + ' - ' + moment(startDate).subtract(1, 'days').format('DD-MMM'));
		$('.jointour').html(moment(startDate).format('DD-MMM'));
		
		$('.tourleg1').html(moment(startDate).add(3, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(4, 'days').format('DD-MMM'));
		$('.tourleg2').html(moment(startDate).add(5, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(7, 'days').format('DD-MMM'));
		$('.tourleg3').html(moment(startDate).add(8, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(9, 'days').format('DD-MMM'));
		$('.tourleg4').html(moment(startDate).add(10, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(12, 'days').format('DD-MMM'));
		
		
		
		$('.returnusa').html(moment(startDate).add(13, 'days').format('DD-MMM'));
		$('.arriveusa').html(moment(startDate).add(13, 'days').format('DD-MMM'));
		
		$('.posttourleg1').html(moment(startDate).add(13, 'days').format('DD-MMM') + ' - ' + moment(startDate).add(15, 'days').format('DD-MMM'));
		$('.posttourreturnusa').html(moment(startDate).add(16, 'days').format('DD-MMM'));
		$('.posttourarriveusa').html(moment(startDate).add(16, 'days').format('DD-MMM'));
		
		//$('#addDepartRow').trigger('click');
		
	}
		
    $('.datepicker').kendoDatePicker({
	 format: "dd-MMM-yy ",
	 change: onChange
	});
					
	
	$('#addDepartRow').click(function() {
		var rowCount = $('#departTable tr').length - 1;
		$('#departTable tr.tourRow:last-child').clone().appendTo('#departTable');
		$('#departTable tr.tourRow:last-child .datepicker').attr('id', rowCount);
	});	
});


</script>

</body>
</html>